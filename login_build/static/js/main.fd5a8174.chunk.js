(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,n){e.exports=n(176)},176:function(e,t,n){"use strict";n.r(t);var a=n(74),o=n(75),i=n(79),l=n(76),s=n(80),c=n(17),r=n(1),d=n.n(r),g=n(15),u=n.n(g),m=(n(181),n(22)),p=n(77),h=n(45);h.a.initialize("UA-137697306-1"),h.a.pageview("/login-page");var b=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={open:!1},n.onSignIn=n.onSignIn.bind(Object(c.a)(Object(c.a)(n))),n.onClose=n.onClose.bind(Object(c.a)(Object(c.a)(n))),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"onSignIn",value:function(e){console.log("User signed in.");var t=e.getBasicProfile(),n=new XMLHttpRequest;n.withCredentials=!0,n.open("POST","http://battleforcharity.com/create-user",!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify({name:t.getName(),email:t.getEmail(),profile_id:t.getId(),hd:e.getHostedDomain()}));var a=this;n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(403==n.status?a.setState({open:!0}):window.location.reload(!0))},window.gapi.auth2.getAuthInstance().disconnect()}},{key:"onFailedSignIn",value:function(e){console.log("Google login failed.")}},{key:"onClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){return d.a.createElement("div",{className:"everything"},d.a.createElement("div",{className:"loginTitle",style:{paddingTop:"30px"}},"Battle For Charity"),d.a.createElement("div",{className:"description"},"Sign in to make your bracket"),d.a.createElement("div",{className:"googleButton"},d.a.createElement(p.GoogleLogin,{classname:"googleButton",clientId:"360968735809-85smlnpttakq9ql1ij9mmijibc3q24dq.apps.googleusercontent.com",onSuccess:this.onSignIn,onFailure:this.onFailedSignIn,theme:"dark"}),d.a.createElement(m.b,{open:this.state.open,onClose:this.onClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},d.a.createElement(m.d,{id:"alert-dialog-title"},'Please sign in using your school email ending with "@students.d211.org" or "@d211.org"'),d.a.createElement(m.c,null,d.a.createElement(m.a,{onClick:this.onClose,color:"primary"},"OK")))))}}]),t}(d.a.Component);u.a.render(d.a.createElement(b,null),document.getElementById("root"))},181:function(e,t,n){}},[[175,1,2]]]);
//# sourceMappingURL=main.fd5a8174.chunk.js.map